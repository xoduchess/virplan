<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>Virtual Planner</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" type="text/css" href="cal.css">
    </head>
    <body>
        <!--<div id='parent'>-->
    <!--Add Task area-->
    <textarea id="taskbox" draggable ="true" ondragstart="drag(event)" > What's your Task? </textarea>

    <!--*taken from (pinch) html file-->
    <script src="https://cdn.rawgit.com/hammerjs/touchemulator/master/touch-emulator.js"></script>
    <script> TouchEmulator(); </script>
    <script src="https://hammerjs.github.io/dist/hammer.js"></script>
    <script src="https://code.jquery.com/jquery-2.1.3.min.js"></script>
    <script src="https://cdn.rawgit.com/julianshapiro/velocity/master/velocity.min.js"></script>


    <script>


       taskbox = document.getElementById("taskbox");
       // *added from (pinch) index.js 
       // get a reference to an element
       $taskbox = jQuery(taskbox); //looks for the element with this id 

       // *added from (pinch) index.js
       // create a manager for that element
       var manager = new Hammer.Manager(taskbox);

       // *added from (pinch) index.js
       // create recognizers
       var Pan = new Hammer.Pan();

       // add the recognizers
       manager.add(Pan);

      // *added from (pinch) index.js
       var deltaX = 0;
       var deltaY = 0;
       manager.on('panmove', function(e) {
       // do something cool
       var dX = deltaX + (e.deltaX);
       var dY = deltaY + (e.deltaY);
       $.Velocity.hook($taskbox, 'translateX', dX + 'px');
       $.Velocity.hook($taskbox, 'translateY', dY + 'px');
      
      });

       manager.on('panend', function(e) {
       deltaX = deltaX + e.deltaX;
       deltaY = deltaY + e.deltaY;

      });

        //Allow elemnts to be dropped
        function allowDrop(task){ 
            task.preventDefault();

            //*allows element to be copied before dragged
            task.effectAllowed =  "copyMove"; 
          }
        //What data should be dragged(Start dragging at taskbox)
        function drag(task){

            //*added class for dragging 
            task.target.classList.add('dragging-task');
            //task.dataTransfer.setData("text", task.target.id);
            //dataTransfer sets data type and value of task being dragged

            //*indicates that the object being dragged will be copied instead of moved 
            task.dataTransfer.dropEffect = "copy"; 
          }
        //Repeat for Drop- Data can't be dropped in other elements(By Default)
        function drop(task){
            task.preventDefault(); 
            var taskdata = task.dataTransfer.getData("text"); 

            //*added cloneNode to clone the box instead so the box could be copied 
            //*created a new variable where the cloned node is placed
            //var newTask = document.getElementById(taskdata).cloneNode();

            //cloning the first element of those who have this class name ; cloning the object being dragged
            var newTask = document.getElementsByClassName('dragging-task')[0].cloneNode();
            //*dragging is no longer being done so we remove this element
            newTask.classList.remove("dragging-task");

            //*created new class so we can manipulate the copied object; instead of spaces you dash 
            newTask.classList.add("acquired-task");
            newTask.removeAttribute("id");
            //(*)moves task into the calendar
            task.target.appendChild(newTask);
            
            //*indicates that the object that object that was copied should remain in place

            task.dataTransfer.dropEffect = "copy"; 
          }
    





    </script>
    <!--<script type="text/javascript">
        document.addEventListener("click", createTask); 
            
         function createTask(){ 
             //create container
             var c = document.getElementById("parent");
             var taskbox = document.createElement("textarea"); 
             
             //taskbox.id = "MyTaskBox"; 
             c.appendChild(taskbox);
}
       
       // var taskbox = document.createElement('textarea');
        //document.addEventListener("click", createTask); 
            
    
        
       /* function CreateTask(){ 
            var taskbox = document.createElement('textarea'); 
            document.getElementById('textarea').addEventListener('click');
            taskbox.appendChild(taskbox);}*/
        
     </script>
</div>
        <button> Create Task </button>
        <!--<button onClick="CreateTask()">Create Task</button> --><br><br>
 <div id= "monthcdiv" ondrop="drop(event)" ondragover="allowDrop(event)">
        <!--Canvas Creation-->
        <div class="CalendarMonth"> 
  <ul>
    
    
    <li>
      ~ November 
      <span style="font-size:30px"> 2016 ~</span>
    </li>
  </ul>
</div>

<ul class="Weekdays">
  <li>Sunday</li>
  <li>Monday</li>
  <li>Tuesday</li>
  <li>Wednesday</li>
  <li>Thursday</li>
  <li>Friday</li>
  <li>Saturday</li>
  
</ul>

<ul class="Days"> 
    <li>30<br><br><br><br><br><br><br><br><br><br></li>
    <li>31<br><br><br><br><br><br><br><br><br><br></li>
  <li>1<br><br><br><br><br><br><br><br><br><br></li>
  <li>2<br><br><br><br><br><br><br><br><br><br></li>
  <li>3<br><br><br><br><br><br><br><br><br><br></li>
  <li>4<br><br><br><br><br><br><br><br><br><br></li>
  <li>5<br><br><br><br><br><br><br><br><br><br></li>
  <li>6<br><br><br><br><br><br><br><br><br><br></li>
  <li>7<br><br><br><br><br><br><br><br><br><br></li>
  <li>8<br><br><br><br><br><br><br><br><br><br></li>
  <li>9<br><br><br><br><br><br><br><br><br><br></li>
  <li>10<br><br><br><br><br><br><br><br><br><br></li>
  <li>11<br><br><br><br><br><br><br><br><br><br></li>
  <li>12<br><br><br><br><br><br><br><br><br><br></li>
  <li>13<br><br><br><br><br><br><br><br><br><br></li>
  <li>14<br><br><br><br><br><br><br><br><br><br></li>
  <li>15<br><br><br><br><br><br><br><br><br><br></li>
  <li>16<br><br><br><br><br><br><br><br><br><br></li>
  <li><br><br><br><br><br><br><br><br><br><span class="active">17</span></li>
  <li>18<br><br><br><br><br><br><br><br><br><br></li>
  <li>19<br><br><br><br><br><br><br><br><br><br></li>
  <li>20<br><br><br><br><br><br><br><br><br><br></li>
  <li>21<br><br><br><br><br><br><br><br><br><br></li>
  <li>22<br><br><br><br><br><br><br><br><br><br></li>
  <li>23<br><br><br><br><br><br><br><br><br><br></li>
  <li>24<br><br><br><br><br><br><br><br><br><br></li>
  <li>25<br><br><br><br><br><br><br><br><br><br></li>
  <li>26<br><br><br><br><br><br><br><br><br><br></li>
  <li>27<br><br><br><br><br><br><br><br><br><br></li>
  <li>28<br><br><br><br><br><br><br><br><br><br></li>
  <li>29<br><br><br><br><br><br><br><br><br><br></li>
  <li>30<br><br><br><br><br><br><br><br><br><br></li>
</ul>
        </div>
        <!--<canvas id= "theCanvas" width="1000" height="1000"> </canvas> -->
       <!-- <script type="text/javascript" language="javascript">
   <!--<button> Create Task </button>
   
    <div id= "parent">  
    </div>-->
   
   
    <!--<script>
      var canvas = document.getElementById('myCanvas');
      var context = canvas.getContext('2d');

      context.beginPath();
      context.moveTo(100, 150);
      context.lineTo(450, 50);
      context.stroke();
    </script>
    //Writing to Canvas
        /*
        var canvas = document.getElementById("theCanvas"); 
        var ctx = canvas.getContext("2d"); 
            ctx.moveTo(0,0); 
            ctx.lineTo(100,100);  
            ctx.stroke();
            
        </script> 
       <script type="text/javascript">
  var cal = new Calendar();
  cal.generateHTML();
  document.write(cal.getHTML());*/
</script>-->
 
    </body>
</html>
